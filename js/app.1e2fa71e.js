(function(e){function t(t){for(var a,s,o=t[0],c=t[1],l=t[2],u=0,p=[];u<o.length;u++)s=o[u],r[s]&&p.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"02d7":function(e,t,n){"use strict";var a=n("20c2"),r=n.n(a);r.a},"034f":function(e,t,n){"use strict";var a=n("64a9"),r=n.n(a);r.a},"20c2":function(e,t,n){},"45f4":function(e,t,n){},"51b8":function(e,t,n){},"54a81":function(e,t,n){"use strict";var a=n("cdf7"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d"),n("db4d");var a,r=n("2b0e"),i=(n("4989"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"btn-group",attrs:{id:"nav"}},[n("div",{staticClass:"shadow rounded"},[n("button",{staticClass:"material-icons btn btn-primary",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("menu")]),n("div",{staticClass:"dropdown-menu"},[n("a",{staticClass:"dropdown-item btn",attrs:{"data-toggle":"modal","data-target":"#create-project"}},[e._v("New")]),n("a",{staticClass:"dropdown-item btn",attrs:{"data-toggle":"modal","data-target":"#import-files"}},[e._v("Open")]),n("a",{staticClass:"dropdown-item btn",attrs:{"data-toggle":"modal","data-target":"#export-files"}},[e._v("Export")]),n("a",{staticClass:"dropdown-item btn",attrs:{"data-toggle":"modal","data-target":"#settings"}},[e._v("Settings")]),n("div",{staticClass:"dropdown-divider",attrs:{role:"separator"}}),n("router-link",{staticClass:"dropdown-item",attrs:{to:"/"}},[e._v("Exit")])],1),"/edit"===e.$route.path?n("edit-menu"):e._e()],1)]),n("settings"),n("create"),n("file-import"),n("file-export"),n("router-view")],1)}),s=[],o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return"/edit"===e.$route.path?n("div",{staticClass:"btn-group"},[n("button",{staticClass:"material-icons btn btn-primary",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e._v("add_circle")]),n("ul",{staticClass:"dropdown-menu"},[n("li",{staticClass:"btn d-flex",on:{click:function(t){return e.createScene()}}},[n("i",{staticClass:"material-icons"},[e._v("\r\n                folder\r\n            ")]),e._v("\r\n            Scene\r\n        ")]),n("li",{staticClass:"btn d-flex",on:{click:function(t){return e.createGroup()}}},[n("i",{staticClass:"material-icons"},[e._v("\r\n                folder\r\n            ")]),e._v("\r\n            Group\r\n        ")]),e._m(0),n("li",{staticClass:"btn d-flex",on:{click:function(t){return e.createGeo()}}},[n("i",{staticClass:"material-icons"},[e._v("\r\n                category\r\n            ")]),e._v("\r\n            Spheres\r\n        ")]),n("li",{staticClass:"btn d-flex",on:{click:function(t){return e.paste()}}},[n("i",{staticClass:"material-icons"},[e._v("\r\n                category\r\n            ")]),e._v("\r\n            Paste\r\n        ")])]),n("button",{staticClass:"material-icons btn d-flex",attrs:{type:"button"}},[e._v("add")])]):e._e()},c=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"btn d-flex",attrs:{"data-toggle":"modal","data-target":"#import-files"}},[n("i",{staticClass:"material-icons"},[e._v("\r\n                folder\r\n            ")]),e._v("\r\n            Import\r\n        ")])}],l=n("2f62"),d=n("5a89"),u=(n("96cf"),n("3b8d")),p=n("013f"),m=n("bd86"),f=n("b0b4"),v=n("d225"),h=n("308d"),b=n("6bb5"),g=n("4e2b"),j=(n("f59c"),n("3329")),y=n("2910"),w=(n("20f5"),n("3934"),n("fee9"),n("fb2c")),_=n("ba3e"),O=n("f9e9"),C=(n("cab0"),window.THREE=n("30b6"));n("e5c3"),n("af90"),n("47f8"),n("2aa2"),n("9694"),n("bb19"),n("17ae"),n("400b"),n("5f27"),n("52d1"),n("0330"),n("d4e2"),n("d5cd"),n("efa1"),n("1bd3"),n("8c51"),n("f4f3"),n("11ee"),n("fbf7"),n("3f43"),n("e504");var x=new C.Clock,S=function(e){function t(){var e;return Object(v["a"])(this,t),e=Object(h["a"])(this,Object(b["a"])(t).call(this)),e.type="World",e.environment=new R,e}return Object(g["a"])(t,e),t}(C.Object3D),k=function(e){function t(){var e;return Object(v["a"])(this,t),e=Object(h["a"])(this,Object(b["a"])(t).call(this)),e.type="Root",e.world=new S,e}return Object(g["a"])(t,e),t}(C.Object3D),E=(C.Object3D,C.Object3D,function(e){function t(){var e;return Object(v["a"])(this,t),e=Object(h["a"])(this,Object(b["a"])(t).call(this)),e.domElement=document.createElement("div"),e.domElement.className="progress",e.bar=document.createElement("div"),e.bar.className="bar",e.info=document.createElement("div"),e.info.className="info",e.domElement.appendChild(e.bar),e.domElement.appendChild(e.info),e.onStart=function(e,t,n){this.bar.style.width="0%",this.info.innerText="Loading "+t+" of "+n+" "+e},e.onProgress=function(e,t,n){this.bar.style.width=100/n*t+"%"},e.onLoad=function(){this.domElement.style="display:none"},e.onError=function(e){this.domElement.innerText=" Sorry, there was a problem with "+e},e}return Object(g["a"])(t,e),t}(C.LoadingManager)),P=function(e){function t(e,n,a){var r;Object(v["a"])(this,t),r=Object(h["a"])(this,Object(b["a"])(t).call(this,e,n,a)),r.renderTarget.texture.generateMipMaps=!0,r.renderTarget.texture.encoding=C.sRGBEncoding,r.renderTarget.texture.wrapS=C.ClampToEdgeWrapping,r.renderTarget.texture.wrapT=C.ClampToEdgeWrapping,r.renderTarget.texture.image=new Array;for(var i=0;i<6;i++)r.renderTarget.texture.image[i]=new Image(a,a);return r}return Object(g["a"])(t,e),t}(C.CubeCamera),R=function(e){function t(){var e;return Object(v["a"])(this,t),e=Object(h["a"])(this,Object(b["a"])(t).call(this)),e.sky=new C.Sky,e.sky.material.uniforms.sunPosition.value.set(-.5,.125,-1.75),e.sky.scale.set(2e3,2e3,2e3),e.add(e.sky),e.intensity=2,e}return Object(g["a"])(t,e),t}(C.Scene),M=function(e){function t(e){var n;Object(v["a"])(this,t);var a=C.ShaderLib["equirect"],r={uniforms:C.UniformsUtils.clone(a.uniforms),vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,side:C.BackSide};return n=Object(h["a"])(this,Object(b["a"])(t).call(this,r)),n.uniforms.tEquirect.value=e,n}return Object(g["a"])(t,e),t}(C.ShaderMaterial),L=function(e){function t(){var e;return Object(v["a"])(this,t),e=Object(h["a"])(this,Object(b["a"])(t).call(this,C.FXAAShader)),e.setSize(window.innerWidth,window.innerHeight),e}return Object(g["a"])(t,e),Object(f["a"])(t,[{key:"setSize",value:function(e,t){this.material.uniforms.resolution.value.set(1/e,1/t)}}]),t}(C.ShaderPass),T=function(e){function t(){return Object(v["a"])(this,t),Object(h["a"])(this,Object(b["a"])(t).call(this,C.CopyShader))}return Object(g["a"])(t,e),t}(C.ShaderPass),$=function(e){function t(){var e;return Object(v["a"])(this,t),e=Object(h["a"])(this,Object(b["a"])(t).call(this,j["a"])),Object(m["a"])(Object(p["a"])(e),"brightness",e.uniforms.brightness),Object(m["a"])(Object(p["a"])(e),"contrast",e.uniforms.contrast),e}return Object(g["a"])(t,e),t}(C.ShaderPass),A=function(e){function t(){var e;return Object(v["a"])(this,t),e=Object(h["a"])(this,Object(b["a"])(t).call(this,y["a"])),Object(m["a"])(Object(p["a"])(e),"hue",e.uniforms.hue),Object(m["a"])(Object(p["a"])(e),"saturation",e.uniforms.saturation),e}return Object(g["a"])(t,e),t}(C.ShaderPass),F=function(e){function t(e){return Object(v["a"])(this,t),Object(h["a"])(this,Object(b["a"])(t).call(this,e))}return Object(g["a"])(t,e),Object(f["a"])(t,[{key:"addRenderPass",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=new C.RenderPass(e,t);a.type="RenderPass",a.clear=n,a.renderToScreen=!0,this.addPass(a)}},{key:"addShaderPass",value:function(e){var t=new C.ShaderPass(e);t.type="ShaderPass",this.addPass(t)}},{key:"addFXAAPass",value:function(){var e=new L;e.type="FXAAPass",this.addPass(e)}},{key:"addSSAAPass",value:function(e,t){var n=new O["a"](e,t);n.type="SSAAPass",this.addPass(n)}},{key:"addSaturatePass",value:function(){var e=new A;e.type="SaturatePass",this.addPass(e)}},{key:"addAdjustPass",value:function(){var e=new $;e.type="AdjustPass",this.addPass(e)}},{key:"addBloomPass",value:function(){var e=new w["a"](1.5,25,4,1024);e.type="BloomPass",e.renderToScreen=!0,this.addPass(e)}},{key:"addSSAOPass",value:function(e,t,n,a){var r=new _["a"](e,t,n,a);r.kernelRadius=16,r.type="SSAOPass",r.output=3,this.addPass(r)}},{key:"addCopyPass",value:function(){var e=new T;e.renderToScreen=!0,e.type="CopyPass",this.addPass(e)}}]),t}(C.EffectComposer),N={encoding:C.LinearEncoding,type:C.FloatType},D=function(e){function t(e){var n;if(Object(v["a"])(this,t),a)return Object(h["a"])(n,a);e||(e=document.createElement("canvas"),e.width=window.innerWidth,e.height=window.innerHeight);var r=e.getContext("webgl2");n=Object(h["a"])(this,Object(b["a"])(t).call(this,{alpha:!0,antialias:!0,canvas:e,context:r,precision:"highp"})),Object(m["a"])(Object(p["a"])(n),"makeScreenShot",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1920,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1080;a.setSize(e,t),a.resize(),a.domElement.toBlob(function(e){var t=document.createElement("a");t.href=URL.createObjectURL(e);var n=new Date;n=n.toLocaleDateString(),t.download="Scene_"+n+".jpeg",t.click()},"image/jpeg",.95),a.setSize(window.innerWidth,window.innerHeight),a.resize()}),Object(m["a"])(Object(p["a"])(n),"updateRay",function(e){n.mouse.x=e.clientX/window.innerWidth*2-1,n.mouse.y=-e.clientY/window.innerHeight*2+1,n.ray.setFromCamera(a.mouse,a.camera);var t=n.ray.intersectObjects(a.scene.children);if(t.length>0){var r=t[0];console.log("intersect",r)}console.log(n.mouse,n.ray,e)}),Object(m["a"])(Object(p["a"])(n),"export",function(){}),a=Object(p["a"])(n),n.physicallyCorrectLights=!0,n.autoClear=!1,n.composers=new Array,n.extensions.get("OES_texture_float_linear"),n.gammaInput=!1,n.gammaOutput=!0,n.gammaFactor=1,n.toneMapping=C.Uncharted2ToneMapping,n.setRenderTarget(n.createRenderTarget()),n.setPixelRatio(window.devicePixelRatio),n.environment=new R,n.envMap=new C.CubeTexture,n.probe=new P(.1,1e3,512),n.lightProbe=new C.LightProbe,n.scene=new C.Scene,n.scene.add(n.lightProbe),n.camera=new C.PerspectiveCamera(70,a.domElement.clientWidth/a.domElement.clientHeight,.1,1e4),n.camera.position.set(5,1.8,5),n.camera.lookAt(n.scene.position),n.controls=new C.OrbitControls(n.camera,n.domElement),n.controls.minDistance=1,n.controls.maxDistance=10,n.controls.enablePan=!0,n.controls.enableDamping=!0,n.controls.damping=1.2,n.controls.autoRotateSpeed=.05;var i=new C.TransformControls(n.camera,n.domElement);window.addEventListener("click",n.updateRay),i.addEventListener("dragging-changed",function(e){a.controls.enabled=!e.value}),n.scene.add(i),i.enabled=!0,n.ray=new C.Raycaster,n.mouse=new C.Vector2,n.helper=new C.Group,n.helper.name="Helper";var s=new C.GridHelper(10,20);return s.name="Grid",s.position.y=0,s.material.opacity=.55,s.material.transparent=!0,n.helper.add(s),n.scene.add(n.helper),n.isWebGL2=!0,n.postprocessing=new F(Object(p["a"])(n)),n.postprocessing.addRenderPass(n.environment,n.camera,!0),n.postprocessing.addRenderPass(n.scene,n.camera,!1),n.postprocessing.addAdjustPass(),n.postprocessing.addSaturatePass(),n.postprocessing.addBloomPass(),n.postprocessing.addFXAAPass(),n.postprocessing.addCopyPass(),n.composers.push(n.postprocessing),console.log(Object(p["a"])(n)),n.resize(),window.addEventListener("resize",n.resize,!1),n.scene.add(n.lightProbe),n.generateFilteredMipMap(),n.setAnimationLoop(n.update),n}return Object(g["a"])(t,e),Object(f["a"])(t,[{key:"renderVR",value:function(){a.render(a.scene,a.camera)}},{key:"createRenderTarget",value:function(){var e=this.getDrawingBufferSize(new C.Vector2);if(!this.isWebGL2)return new C.WebGLRenderTarget(e.width,e.height,N);var t=new C.WebGLMultisampleRenderTarget(e.width,e.height,N);t.samples=8}},{key:"generateFilteredMipMap",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.probe.update(this,this.environment),t=new C.PMREMGenerator(this.probe.renderTarget.texture),t.update(this),n=new C.PMREMCubeUVPacker(t.cubeLods),n.update(this),this.envMap=n.CubeUVRenderTarget.texture,this.lightProbe.copy(C.LightProbeGenerator.fromCubeTexture(this.probe.renderTarget.texture)),t.dispose(),n.dispose(),this.traverseMaterials(this.scene,this.setEnvMap);case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"setEnvMap",value:function(e){(e instanceof C.MeshStandardMaterial||e instanceof C.MeshPhysicalMaterial)&&(e.envMap=a.envMap,a.setEnvMapIntensity(e))}},{key:"setEnvironmentIntensity",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a.environment.intensity=t,a.traverseMaterials(a.scene,a.setEnvMapIntensity),a.update();case 3:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setEnvMapIntensity",value:function(e){e.envMapIntensity=a.environment.intensity}},{key:"traverseMaterials",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:t.traverse(function(e){e instanceof C.Mesh&&n(e.material)});case 1:case"end":return e.stop()}},e)}));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"resize",value:function(){var e=window.innerWidth,t=window.innerHeight;a.camera.aspect=e/t,a.camera.updateProjectionMatrix(),a.setSize(e,t);for(var n=0;n<a.composers.length;n++){var r=a.composers[n];r.setSize(e,t)}a.update()}},{key:"update",value:function(){var e=x.getDelta();(a.controls.enableDamping||a.controls.autoRotate)&&a.controls.update();for(var t=0;t<a.composers.length;t++){var n=a.composers[t];n.render(e)}}},{key:"updateScene",value:function(e){a.traverseMaterials(e,a.setEnvMap),a.update(),e.traverse(function(e){console.log(e,e.parent)})}},{key:"setScene",value:function(e){a.postprocessing.passes[1].scene=e,a.scene=e,a.camera.lookAt(e.position),a.controls.update(),a.updateScene(e)}},{key:"createNewScene",value:function(){var e=new k;return this.setScene(e),e}},{key:"makeMovie",value:function(){}},{key:"createTextSprite",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=t+"px sans-serif",a=document.createElement("canvas"),r=a.getContext("2d");r.font=n,a.width=r.measureText(e).width,a.height=1.4*t,r.font=n,r.fillStyle="rgba(0, 0, 0, 1)",r.fillText(e,0,t);var i=new C.Texture(a);i.minFilter=C.LinearFilter,i.needsUpdate=!0;var s=new C.SpriteMaterial({map:i}),o=new C.Sprite(s);return o.scale.x=a.width/a.height,o}},{key:"imageToCanvas",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=e.width,r=e.height,i=document.createElement("canvas");i.width=a,i.height=r;var s=i.getContext("2d");return s.drawImage(e,t,n,a,r),i}}]),t}(C.WebGLRenderer),G={computed:Object(l["c"])(["scene","object"]),methods:{paste:function(){this.scene.add(this.object.clone())},createScene:function(){var e=a.createNewScene();e.matrixWorldNeedsUpdate=!0,this.$store.commit("setScene",{scene:e})},createGroup:function(){this.add(new d["n"])},createGeo:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new THREE.SphereBufferGeometry(1,40,40),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new THREE.MeshStandardMaterial({color:16777215*Math.random()}),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=new THREE.Group,i=0;i<n;i++){t=new THREE.MeshStandardMaterial({color:16711935*Math.random()}),t.roughness=1-.5*Math.random(),t.metalness=1-.25*Math.random(),t.emissive=t.color,t.emissiveIntensity=1-.25*Math.random(),a.setEnvMap(t);var s=new THREE.Mesh(e,t);s.name="Sphere_"+i,s.position.x=20*(Math.random()-.5),s.position.y=5*Math.random(),s.position.z=20*(Math.random()-.5),s.scale.multiplyScalar(.25-.15*Math.random()),r.add(s)}a.scene.add(r)},add:function(e){this.object?this.object.add(e):(this.scene.add(e),this.$store.commit("setObject",{object:e}))}}},U=G,B=n("2877"),I=Object(B["a"])(U,o,c,!1,null,null,null),W=I.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal",attrs:{id:"settings"}},[n("div",{staticClass:"modal-dialog modal-sm"},[n("div",{staticClass:"modal-content"},[e._m(0),e.renderer?n("div",{staticClass:"modal-body"},e._l(e.renderer.composers,function(t,a){return n("div",{key:a},e._l(t.passes,function(t,a){return n("div",{key:a},[e._l(["brightness","contrast"],function(a,r){return"AdjustPass"===t.type?n("slider",{key:r,attrs:{min:0,max:1,value:t.uniforms[a].value},on:{input:function(e){t.uniforms[a].value=e.target.value}}},[e._v(e._s(a))]):e._e()}),e._l(["hue","saturation"],function(a,r){return"SaturatePass"===t.type?n("slider",{key:r,attrs:{min:-1,max:1,value:t.uniforms[a].value},on:{input:function(e){t.uniforms[a].value=e.target.value}}},[e._v(e._s(a))]):e._e()})],2)}),0)}),0):e._e(),e._m(1)])])])},H=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-header"},[n("h4",{staticClass:"modal-title"},[e._v("Settings")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[e._v("×")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn ",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Ok")])])}],X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex "},[n("label",{staticClass:" btn col-md-8"},[e._t("default")],2),n("div",{staticClass:"btn col-md-4 float-right"},[n("i",{staticClass:"material-icons btn md-24 ",on:{click:function(t){return e.$emit("click")}}},[e._v(e._s(e.prop?"toggle_on":"toggle_off"))])])])},V=[],Y={name:"toggle-button",props:{prop:null},methods:{toggle:function(){return this.prop=!this.prop,this.prop}},updated:function(){},computed:{}},q=Y,J=Object(B["a"])(q,X,V,!1,null,null,null),Z=J.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{staticClass:"d-inline float-left",attrs:{for:"slider-value"}},[e._t("default")],2),n("div",{staticClass:"d-inline float-right",domProps:{textContent:e._s(e.value)}}),n("input",{ref:"slider-value",staticClass:"slider",attrs:{id:"slider-value",type:"range",step:"0.01"},on:{input:function(t){return e.$emit("input",t)}}})])},Q=[],ee={name:"slider",props:{min:null,max:null,value:null},mounted:function(){this.$refs["slider-value"].min=this.min,this.$refs["slider-value"].max=this.max,this.$refs["slider-value"].value=this.value}},te=ee,ne=(n("cc6a"),Object(B["a"])(te,K,Q,!1,null,null,null)),ae=ne.exports,re={name:"settings",components:{slider:ae,"toggle-button":void 0},data:function(){return{file:null}},computed:Object(l["c"])(["renderer"])},ie=re,se=Object(B["a"])(ie,z,H,!1,null,null,null),oe=se.exports,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal",attrs:{id:"import-files"}},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[e._m(0),n("div",{staticClass:"modal-body"},[n("b-form-file",{attrs:{state:Boolean(e.file),placeholder:"Choose files...","drop-placeholder":"Drop files here...",multiple:""},on:{change:function(t){return e.uploadFile(t.target.files)},drop:function(t){return e.uploadFile(t.target.files)}},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1),e._m(1)])])])},le=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-header"},[n("h4",{staticClass:"modal-title"},[e._v("Import")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[e._v("×")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Close")])])}],de={baseURL:"http://192.168.0.5:3000"},ue=n("bc3a"),pe=n.n(ue);n("28a5"),n("7f7f");n("a99c"),n("e278"),n("7c8e"),n("5b9c"),n("1c7a"),n("21c0"),n("f07e"),n("ff19"),n("ff19"),n("698e"),C.DRACOLoader.setDecoderPath("../draco/");var me=function(e){function t(e){var n;return Object(v["a"])(this,t),n=Object(h["a"])(this,Object(b["a"])(t).call(this)),n.scope=e,n.manager=new E,n.hdr=new C.RGBELoader(n.manager),n.hdr.setType(C.FloatType),n.exr=new C.EXRLoader(n.manager),n.ktx=new C.KTXLoader(n.manager),n.fbx=new C.FBXLoader(n.manager),n.dae=new C.ColladaLoader(n.manager),n.obj=new C.OBJLoader(n.manager),n.stl=new C.STLLoader(n.manager),n.draco=new C.DRACOLoader(n.manager),n.gltf=new C.GLTFLoader(n.manager),n.gltf.setDRACOLoader(n.draco),n}return Object(g["a"])(t,e),Object(f["a"])(t,[{key:"import",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(n=this,this.prepareLoadingManager(t),r=function(e){var r=t[e],i=r.name,s=i.split(".").pop().toLowerCase(),o=new FileReader;switch(s){case"hdr":n.hdr.load(URL.createObjectURL(r),function(e,t){e.name=i,e.minFilter=C.NearestFilter,e.magFilter=C.NearestFilter,e.flipY=!0,a.environment.sky.material=new M(e),a.generateFilteredMipMap(),a.update()});break;case"exr":o.addEventListener("load",function(e){var t=n.hdr.parse(e.target.result);t.name=i},!1),o.readAsArrayBuffer(r);break;case"fbx":o.addEventListener("load",function(e){var t=n.fbx.parse(e.target.result);t.name=i,a.setScene(t),n.scope.$store.commit("setScene",{scene:t})},!1),o.readAsArrayBuffer(r);break;case"dae":o.addEventListener("load",function(e){var t=n.dae.parse(e.target.result);t.scene.name=i,a.setScene(t.scene),n.scope.$store.commit("setScene",{scene:t.scene})},!1),o.readAsText(r);break;case"obj":o.addEventListener("load",function(e){var t=n.obj.parse(e.target.result);t.name=i;var r=new C.Scene;r.add(t),a.setScene(r),n.scope.$store.commit("setScene",{scene:r})},!1),o.readAsText(r);break;case"stl":o.addEventListener("load",function(e){var t=n.stl.parse(e.target.result);t.sourceType="stl",t.sourceFile=i;var r=new C.MeshStandardMaterial,s=new C.Mesh(t,r);s.name=i;var o=new C.Scene;o.add(s),a.setScene(o),n.scope.$store.commit("setScene",{scene:o})},!1),void 0!==o.readAsBinaryString?o.readAsBinaryString(r):o.readAsArrayBuffer(r);break;case"gltf":o.addEventListener("load",function(e){n.gltf.parse(e.target.result,"",function(e){return e.scene.name=i,a.setScene(e.scene),n.scope.$store.commit("setScene",{scene:e.scene}),Promise.resolve(e)})},!1),o.readAsText(r);break;case"glb":o.addEventListener("load",function(e){n.gltf.parse(e.target.result,"",function(e){return e.scene.name=i,a.setScene(e.scene),n.scope.$store.commit("setScene",{scene:e.scene}),Promise.resolve(e)})},!1),o.readAsArrayBuffer(r);break;default:break}},i=0;i<t.length;i++)r(i);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"prepareLoadingManager",value:function(e){for(var t={},n=0;n<e.length;n++){var a=e[n];t[a.name]=a}this.manager.setURLModifier(function(e){var n=t[e];return n?URL.createObjectURL(n):e})}}]),t}(C.FileLoader),fe={name:"file-import",data:function(){return{id:0,importer:{},file:null}},created:function(){this.id=this.$route.params.id},mounted:function(){this.importer=new me(this)},computed:Object(l["c"])(["scene"]),methods:{uploadFile:function(e){var t=this.importer;return new Promise(function(n,a){t.import(e);var r=new FormData;r.set("files",e);var i={headers:{"Content-Type":"multipart/form-data"}};pe.a.post("".concat(de.baseURL,"/asset/upload"),r,i)})}}},ve=fe,he=Object(B["a"])(ve,ce,le,!1,null,null,null),be=he.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal",attrs:{id:"export-files"}},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[e._m(0),n("div",{staticClass:"modal-body"},[e.exporter.settings?n("div",{staticClass:"form-group col-md-12"},[n("label",{attrs:{for:"title"}},[e._v(" Name ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.scene.name,expression:"scene.name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"title",placeholder:"Enter Name"},domProps:{value:e.scene.name},on:{input:function(t){t.target.composing||e.$set(e.scene,"name",t.target.value)}}}),n("label",{attrs:{for:"binary"}},[e._v(" Binary ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.exporter.settings.binary,expression:"exporter.settings.binary"}],staticClass:"form-control",attrs:{type:"checkbox",id:"binary",name:"binary",placeholder:"Enter Name"},domProps:{checked:Array.isArray(e.exporter.settings.binary)?e._i(e.exporter.settings.binary,null)>-1:e.exporter.settings.binary},on:{change:function(t){var n=e.exporter.settings.binary,a=t.target,r=!!a.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);a.checked?s<0&&e.$set(e.exporter.settings,"binary",n.concat([i])):s>-1&&e.$set(e.exporter.settings,"binary",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.exporter.settings,"binary",r)}}})]):e._e()]),n("div",{staticClass:"modal-footer"},[n("a",{staticClass:"btn",attrs:{"data-dismiss":"modal"},on:{click:this.export}},[e._v("Export")])])])])])},je=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-header"},[n("h4",{staticClass:"modal-title"},[e._v("Export")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[e._v("×")])])}],ye=n("9e5c"),we={trs:!1,onlyVisible:!1,binary:!0,forcePowerOfTwoTextures:!0},_e=function(e){function t(e){var n;return Object(v["a"])(this,t),n=Object(h["a"])(this,Object(b["a"])(t).call(this)),n.scope=e,n.settings=we,n}return Object(g["a"])(t,e),Object(f["a"])(t,[{key:"export",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(){var t,n,a,r=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:this.scope.scene,n=r.length>1&&void 0!==r[1]?r[1]:this.download,this.parse(t,function(e){a=e;var r=t.name;n(a,r)},this.settings),e.abrupt("return",Promise.resolve(a));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"download",value:function(e,t){var n,a;console.log(e),we.binary?(n="application/octet-binary",a=".glb"):(n="text/plain",a=".gltf");var r=new Blob([e],{type:n}),i=document.createElement("a");i.href=URL.createObjectURL(r),i.download=t+a,i.click()}}]),t}(ye["a"]),Oe={name:"file-import",data:function(){return{id:0,exporter:{},file:null}},created:function(){this.id=this.$route.params.id},mounted:function(){this.exporter=new _e(this)},computed:Object(l["c"])(["scene"]),methods:{export:function(){this.exporter.export(this.scene)}}},Ce=Oe,xe=Object(B["a"])(Ce,ge,je,!1,null,null,null),Se=xe.exports,ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal",attrs:{id:"create-project"}},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[e._m(0),n("div",{staticClass:"modal-body"},[n("form",{attrs:{id:"create-post-form"},on:{submit:function(t){return t.preventDefault(),e.createProject(t)}}},[n("div",{staticClass:"form-group col-md-12"},[n("label",{attrs:{for:"title"}},[e._v(" Name ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name",name:"title",placeholder:"Enter Name"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),n("div",{staticClass:"form-group col-md-12"},[n("label",{attrs:{for:"description"}},[e._v(" Description ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],staticClass:"form-control",attrs:{type:"text",id:"description",name:"description",placeholder:"Enter Description"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})]),e._m(1)])])])])])},Ee=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-header"},[n("h4",{staticClass:"modal-title"},[e._v("New")]),n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[e._v("×")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"submit","data-toggle":"modal","data-target":"#create-project"}},[e._v(" Save ")]),n("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v("Cancel")])])}],Pe=n("8c4f"),Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("engine-view",{ref:"engine-view"}),n("div",{staticClass:"container"},[n("h1"),0===e.projects.length?n("div",[n("h2",[e._v(" No projects found at the moment ")])]):e._e()]),n("div",{staticClass:"card-deck p-3 mb-3",attrs:{id:"container"}},e._l(e.projects,function(t){return n("div",{key:t._id,staticClass:"card  d-flex  shadow"},[n("div",{staticClass:"card-body text-left"},[n("h5",{staticClass:"card-title"},[e._v(e._s(t.name))]),n("p",{staticClass:"card-text"},[e._v(e._s(t.description))])]),n("div",{staticClass:"btn-group btn-sm text-center",staticStyle:{"margin-bottom":"20px"}},[n("router-link",{staticClass:"material-icons btn btn-primary",attrs:{to:{name:"View",params:{id:t._id}}}},[e._v("\n            play_arrow\n          ")]),n("router-link",{staticClass:"material-icons btn btn-primary",attrs:{to:{name:"Edit",params:{id:t._id}}}},[e._v("create\n          ")]),n("button",{staticClass:"material-icons btn btn-primary",on:{click:function(n){return e.deleteProject(t._id)}}},[e._v("delete")])],1)])}),0)],1)},Me=[],Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-fluid",attrs:{id:"engine-view"},on:{dblclick:function(t){return e.selectObject(t)}}},[n("div",{ref:"container"}),n("div",{staticClass:"btn-group ",attrs:{id:"btn-group"}},[n("i",{staticClass:"material-icons btn btn-primary",on:{click:function(t){return e.makeScreenShot()}}},[e._v("photo_camera")]),n("i",{staticClass:"material-icons btn btn-primary",on:{click:function(t){return e.makeMovie()}}},[e._v("movie")]),n("i",{staticClass:"material-icons btn btn-primary",on:{click:function(t){return e.makeScreenShot()}}},[e._v("archive")])])])},Te=[],$e={data:function(){return{camera:Object,renderer:Object}},created:function(){this.renderer=new D,this.camera=this.renderer.camera,this.setActiveScene(this.renderer.scene),Object(l["c"])(["scene"])},updated:function(){},mounted:function(){this.$refs.container.appendChild(this.renderer.domElement),this.$nextTick(function(){this.renderer.setSize(window.innerWidth,window.innerHeight)}),this.$store.commit("setRender",{object:this.renderer})},methods:{setActiveScene:function(e){this.$store.commit("setScene",{scene:e}),this.$store.commit("setObject",{object:null})},makeMovie:function(){this.renderer.makeMovie()},makeScreenShot:function(){this.renderer.makeScreenShot()},imageToCanvas:function(e){this.renderer.imageToCanvas(e)},createTextSprite:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15;this.renderer.createTextSprite(e,t)},selectObject:function(e){this.renderer.updateRay(e)}}},Ae=$e,Fe=(n("54a81"),Object(B["a"])(Ae,Le,Te,!1,null,null,null)),Ne=Fe.exports,De={components:{"engine-view":Ne},data:function(){return{projects:[{assets:[],_id:"5cdd409691cf3d2444f90b7d",name:"px_02",description:"feature mockup",created_at:"2019-05-16T10:51:02.677Z",__v:0},{assets:[],_id:"5ce52dc6eeb9d6716ccf79a9",name:"px_0256",description:"",created_at:"2019-05-22T11:08:54.031Z",__v:0},{assets:[],_id:"5cf629ff3a68af598204d97c",name:"px_01",description:"initial release",created_at:"2019-06-04T08:21:19.936Z",__v:0}]}},mounted:function(){this.$refs["engine-view"].setActiveScene(new d["I"])},created:function(){this.fetchProjects()},methods:{fetchProjects:function(){var e=this;pe.a.get("".concat(de.baseURL,"/project/projects")).then(function(t){return e.projects=t.data})},deleteProject:function(e){var t=this;pe.a.delete("".concat(de.baseURL,"/project/delete?projectID=").concat(e)).then(function(e){t.fetchProjects()})}}},Ge=De,Ue=(n("cccb"),Object(B["a"])(Ge,Re,Me,!1,null,null,null)),Be=Ue.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"container"}},[n("properties-view",{ref:"properties"}),n("scene-graph",{ref:"graph"}),n("engine-view",{ref:"engine"}),n("file-import")],1)},We=[],ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.scene?n("div",{staticClass:"card",attrs:{id:"scene-graph"}},[n("ul",{staticClass:"nav"},[n("folder-button",{attrs:{object:e.scene}},[e._v("\r\n    "+e._s(""===e.scene.name?e.scene.type:e.scene.name)+"\r\n  ")])],1)]):e._e()},He=[],Xe=n("cebc"),Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.object?n("li",{attrs:{draggable:!0}},[n("button",{staticClass:"btn d-flex",on:{dblclick:e.toggle,click:e.setActiveObject}},[e.isFolder?n("i",{staticClass:"material-icons md-24",on:{click:e.toggle}},[e._v("folder")]):n("i",{staticClass:"material-icons md-24"},[e._v(e._s(e.getType(e.object)))]),e._t("default"),n("i",{staticClass:"material-icons md-24",on:{click:function(t){e.$props.object.visible=!e.$props.object.visible}}},[e._v(e._s(e.object.visible?"visibility":"visibility_off"))]),e.object.parent?n("i",{staticClass:"material-icons md-24",on:{click:e.removeObject}},[e._v("delete")]):e._e()],2),e.isFolder?n("ul",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}]},e._l(e.object.children,function(t,a){return n("folder-button",{key:a,attrs:{object:t}},[e._v(e._s(""===t.name?t.type:t.name))])}),1):e._e()]):e._e()},Ye=[],qe={name:"folder-button",props:{object:null,parent:null},data:function(){return{isOpen:!1}},methods:{toggle:function(){this.isFolder&&(this.isOpen=!this.isOpen)},setActiveObject:function(){this.$store.commit("setObject",{object:this.$props.object})},removeObject:function(){this.object.parent&&(this.object.parent.remove(this.object),this.$store.commit("setObject",{object:null}))},getType:function(e){switch(e.type){case"Scene":case"Group":return"folder";case"Light":return"wb_incandescent";default:return"category"}}},computed:{isFolder:function(){return this.object.children&&this.object.children.length}}},Je=qe,Ze=Object(B["a"])(Je,Ve,Ye,!1,null,null,null),Ke=Ze.exports,Qe={name:"scene-graph",components:{"folder-button":Ke},props:{item:Object},data:function(){return{isOpen:!1}},computed:Object(Xe["a"])({},Object(l["c"])(["scene"])),methods:Object(Xe["a"])({},Object(l["b"])(["setActiveObject"]),{toggle:function(){this.isFolder&&(this.isOpen=!this.isOpen)},makeFolder:function(){this.isFolder||(this.$emit("make-folder",this.item),this.isOpen=!0)}})},et=Qe,tt=(n("02d7"),Object(B["a"])(et,ze,He,!1,null,null,null)),nt=tt.exports,at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"shadow rounded",attrs:{id:"properties-view"}},[n("i",{staticClass:"material-icons btn btn-primary float-right",attrs:{"data-toggle":"collapse","data-target":"#renderer"}},[e._v("settings")]),n("div",{staticClass:"card collapse",attrs:{id:"renderer","p-3":"","mb-2":""}},[e.object?n("div",{staticClass:"card-body"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.object.name,expression:"object.name"}],attrs:{type:"text"},domProps:{value:e.object.name},on:{input:function(t){t.target.composing||e.$set(e.object,"name",t.target.value)}}}),n("toggle-button",{attrs:{prop:e.object.visible},on:{click:function(t){e.object.visible=!e.object.visible}}},[e._v("\r\n        Visible\r\n      ")]),e.object.isMesh?n("div",["MeshStandardMaterial"===e.object.material.type?n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.object.material["metalness"],expression:"object.material['metalness']"}],staticClass:"slider",attrs:{type:"range",step:"0.01",min:"0",max:"1"},domProps:{value:e.object.material["metalness"]},on:{__r:function(t){return e.$set(e.object.material,"metalness",t.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:e.object.material["roughness"],expression:"object.material['roughness']"}],staticClass:"slider",attrs:{type:"range",step:"0.01",min:"0",max:"1"},domProps:{value:e.object.material["roughness"]},on:{__r:function(t){return e.$set(e.object.material,"roughness",t.target.value)}}}),e._v("\r\n          Color:"),n("color-picker",{attrs:{value:"object.material.color"}})],1):e._e(),n("toggle-button",{attrs:{prop:e.object.material.transparent},on:{click:function(t){e.object.material.transparent=!e.object.material.transparent}}},[e._v("\r\n          Transparent\r\n        ")]),e.object.material.transparent?n("input",{directives:[{name:"model",rawName:"v-model",value:e.object.material["opacity"],expression:"object.material['opacity']"}],staticClass:"slider",attrs:{type:"range",step:"0.01",min:"0",max:"1"},domProps:{value:e.object.material["opacity"]},on:{__r:function(t){return e.$set(e.object.material,"opacity",t.target.value)}}}):e._e()],1):e._e()],1):e._e(),n("div",{staticClass:"card-body"},[e.renderer?n("div",[n("slider",{attrs:{min:1,max:4,value:e.renderer.toneMappingExposure},on:{input:function(t){e.renderer.toneMappingExposure=t.target.value}}},[e._v("Exposure")]),n("slider",{attrs:{min:1,max:4,value:e.renderer.toneMappingWhitePoint},on:{input:function(t){e.renderer.toneMappingWhitePoint=t.target.value}}},[e._v("Whitepoint")]),n("slider",{attrs:{min:1,max:4,value:e.renderer.environment.intensity},on:{input:function(t){return e.setEnvironmentIntensity(t.target.value)}}},[e._v("Environment Intensity")])],1):e._e(),n("div",[e.renderer.helper?n("toggle-button",{attrs:{prop:e.renderer.helper.visible},on:{click:function(t){e.renderer.helper.visible=!e.renderer.helper.visible}}},[e._v("\r\n          Grid\r\n        ")]):e._e(),e.renderer.controls?n("toggle-button",{attrs:{prop:e.renderer.controls.autoRotate},on:{click:function(t){e.renderer.controls.autoRotate=!e.renderer.controls.autoRotate}}},[e._v("\r\n          Auto Rotate\r\n        ")]):e._e()],1)])])])},rt=[],it=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{staticClass:"shadow rounded",attrs:{for:"color-input","data-toggle":"collapse",href:"#color-picker",id:"color-label"}}),n("div",{staticClass:"collapse shadow rounded",attrs:{id:"color-picker"}},[n("canvas",{class:e.d-e.inline,attrs:{id:"color-block",height:"150",width:"150"}}),n("canvas",{staticClass:"d-inline",attrs:{id:"color-strip",height:"150",width:"15"}})])])},st=[],ot=(n("6c7b"),{name:"color-picker",data:function(){return{value:null}},methods:{toggle:function(){return this.prop=!this.prop,this.prop},changed:function(e){console.log(e),this.value=e}},mounted:function(){var e=document.getElementById("color-block"),t=e.getContext("2d"),n=e.width,a=e.height,r=document.getElementById("color-strip"),i=r.getContext("2d"),s=r.width,o=r.height,c=document.getElementById("color-label"),l=0,d=0,u=!1,p="rgba(255,0,0,1)";t.rect(0,0,n,a),v(),i.rect(0,0,s,o);var m=i.createLinearGradient(0,0,0,a);function f(e){l=e.offsetX,d=e.offsetY;var t=i.getImageData(l,d,1,1).data;p="rgba("+t[0]+","+t[1]+","+t[2]+",1)",v()}function v(){t.fillStyle=p,t.fillRect(0,0,n,a);var e=i.createLinearGradient(0,0,n,0);e.addColorStop(0,"rgba(255,255,255,1)"),e.addColorStop(1,"rgba(255,255,255,0)"),t.fillStyle=e,t.fillRect(0,0,n,a);var r=i.createLinearGradient(0,0,0,a);r.addColorStop(0,"rgba(0,0,0,0)"),r.addColorStop(1,"rgba(0,0,0,1)"),t.fillStyle=r,t.fillRect(0,0,n,a)}function h(e){u=!0,j(e)}function b(e){u&&j(e)}function g(e){u=!1}function j(e){l=e.offsetX,d=e.offsetY;var n=t.getImageData(l,d,1,1).data;p="rgba("+n[0]+","+n[1]+","+n[2]+",1)",c.style.backgroundColor=p}m.addColorStop(0,"rgba(255, 0, 0, 1)"),m.addColorStop(.17,"rgba(255, 255, 0, 1)"),m.addColorStop(.34,"rgba(0, 255, 0, 1)"),m.addColorStop(.51,"rgba(0, 255, 255, 1)"),m.addColorStop(.68,"rgba(0, 0, 255, 1)"),m.addColorStop(.85,"rgba(255, 0, 255, 1)"),m.addColorStop(1,"rgba(255, 0, 0, 1)"),i.fillStyle=m,i.fill(),r.addEventListener("click",f,!1),e.addEventListener("click",h,!1),e.addEventListener("mouseup",g,!1),e.addEventListener("mousemove",b,!1)},updated:function(){},computed:{}}),ct=ot,lt=(n("b1e1"),Object(B["a"])(ct,it,st,!1,null,null,null)),dt=lt.exports,ut={name:"properties-view",components:{slider:ae,"toggle-button":Z,"color-picker":dt},created:function(){this.id=this.$route.params.id},mounted:function(){},computed:Object(l["c"])(["object","renderer"]),methods:{toggle:function(e){console.log(e)},setEnvironmentIntensity:function(e){this.renderer.setEnvironmentIntensity(e)}}},pt=ut,mt=(n("fcbf"),Object(B["a"])(pt,at,rt,!1,null,null,null)),ft=mt.exports,vt={name:"view-project",components:{"scene-graph":nt,"engine-view":Ne,"properties-view":ft,"file-import":be},props:{scene:{}},data:function(){return{id:0,camera:{}}},created:function(){this.$parent;this.id=this.$route.params.id,this.getProject()},methods:{updateProject:function(){var e={name:this.project.name,description:this.project.description};pe.a.put("".concat(de.baseURL,"/project/update?projectID=").concat(this.id),e)},getProject:function(){var e=this;pe.a.get("".concat(de.baseURL,"/project/project/").concat(this.id)).then(function(t){e.project=t.data})},navigate:function(){xt.go(-1)}},mounted:function(){}},ht=vt,bt=Object(B["a"])(ht,Ie,We,!1,null,null,null),gt=bt.exports,jt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"container"}},[n("engine-view",{ref:"engine"})],1)},yt=[],wt={name:"view-project",components:{"engine-view":Ne},props:{scene:{}},data:function(){return{id:0,camera:{}}},created:function(){var e=this.$parent;console.log(e)},updated:function(){},methods:{showProject:function(){var e={name:this.project.name,description:this.project.description};pe.a.put("".concat(de.baseURL,"/project/update?projectID=").concat(this.id),e)},getProject:function(){var e=this;pe.a.get("".concat(de.baseURL,"/project/project/").concat(this.id)).then(function(t){return e.project=t.data})},navigate:function(){xt.go(-1)}}},_t=wt,Ot=Object(B["a"])(_t,jt,yt,!1,null,null,null),Ct=Ot.exports;r["default"].use(Pe["a"]);var xt=new Pe["a"]({mode:"history",routes:[{path:"/",redirect:{name:"home"}},{path:"/home",name:"home",component:Be},{path:"/create",name:"Create",component:Pt},{path:"/edit",name:"Edit",component:gt},{path:"/view",name:"View",component:Ct}]}),St={data:function(){return{name:"",description:""}},methods:{createProject:function(){var e={name:this.name,description:this.description};this.__submitToServer(e)},__submitToServer:function(e){var t=this;pe.a.post("".concat(de.baseURL,"/project/create"),e).then(function(e){xt.push({name:"Edit",params:{id:e._id}}),t.name="",t.description=""})},navigate:function(){xt.go(-1)}}},kt=St,Et=Object(B["a"])(kt,ke,Ee,!1,null,null,null),Pt=Et.exports,Rt={components:{"edit-menu":W,settings:oe,"file-import":be,"file-export":Se,create:Pt}},Mt=Rt,Lt=(n("034f"),Object(B["a"])(Mt,i,s,!1,null,null,null)),Tt=Lt.exports;r["default"].use(l["a"]);var $t={active:{scene:Object,camera:Object,object:Object},global:{renderer:Object},selected:{scene:Object,camera:Object,object:Object}},At={getScene:function(e){return e.active.scene},scene:function(e){return e.active.scene},object:function(e){return e.active.object},active:function(e){return e.active},selected:function(e){return e.active},renderer:function(e){return e.global.renderer}},Ft={setActiveScene:function(e,t){var n=e.commit;n("setScene",{scene:t})},setActiveObject:function(e,t){var n=e.commit;n("setObject",{object:t})},setRenderer:function(e,t){var n=e.commit;n("setRender",{renderer:t})}},Nt={setScene:function(e,t){var n=t.scene;e.active.scene=n},setObject:function(e,t){var n=t.object;e.active.object=n},setRender:function(e,t){var n=t.object;e.global.renderer=n}},Dt=new l["a"].Store({state:$t,getters:At,actions:Ft,mutations:Nt}),Gt=n("5f5b"),Ut=(n("f9e3"),n("2dd8"),n("9483"));Object(Ut["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),r["default"].use(Gt["a"]),r["default"].config.productionTip=!1,new r["default"]({router:xt,store:Dt,render:function(e){return e(Tt)}}).$mount("#app")},"64a9":function(e,t,n){},"6ff9":function(e,t,n){},b1e1:function(e,t,n){"use strict";var a=n("6ff9"),r=n.n(a);r.a},cc6a:function(e,t,n){"use strict";var a=n("51b8"),r=n.n(a);r.a},cccb:function(e,t,n){"use strict";var a=n("d563"),r=n.n(a);r.a},cdf7:function(e,t,n){},d563:function(e,t,n){},fcbf:function(e,t,n){"use strict";var a=n("45f4"),r=n.n(a);r.a}});
//# sourceMappingURL=app.1e2fa71e.js.map